/* 
 * Joy.js - v0.0.1pre (http://joyjs.org)
 * Copyright (c) 2012 Joy.js Foundation and other contributors 
 * Build date: 12/15/2012
 */
var Joy=Joy||{Setup:function(e){}},Class=function(e){return e.constructor.extend=function(t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n]);return Class(t)},(e.constructor.prototype=e).constructor};window.onEnterFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}(),function(e){var t=function(){this.x=0,this.y=0,this.sprite=null,this.transform=null};e.GameObject=t}(Joy),function(e){var t=function(e){this.asset=new Image,this.x=e.x||0,this.y=e.y||0,e.url&&this.load(e.url)};t.prototype.load=function(e,t){t&&(this.asset.onload=t),this.asset.src=e},t.prototype.renderTo=function(e){e.drawImage(this.asset,this.x,this.y,this.asset.width,this.asset.height)},e.Sprite=t}(Joy),function(e){var t="normal 12px Verdana",n="#000000",r=function(e){return typeof e=="undefined"&&(e={}),this.x=e.x||0,this.y=e.y||0,this.font=e.font||t,this.color=e.color||n,this.text=e.text||"",this};r.prototype.setText=function(e){this.text=e},r.prototype.renderTo=function(e){e.font=this.font,e.fillStyle=this.color,e.fillText(this.text,this.x,this.y)},e.Text=r}(Joy),function(e){var t=function(t){return this.render=new e.Render,t.canvas&&this.setCanvas(t.canvas),t.markup,this};t.prototype.setCanvas=function(e){this.render.setCanvas(e)},t.prototype.useMarkup=function(){var t=new e.Markup;t.setup(this)},e.Game=t}(Joy),function(e){var t=function(){this.children=[]};t.prototype.addChild=function(e){this.children.push(e)},e.Layer=t}(Joy),function(e){var t=function(){};t.prototype.analyse=function(e){console.log(e.render.canvas)},e.Markup=t}(Joy),function(e){"use strict";var t=null,n=function(e){t=this,this.canvas=e.canvas,this.context=this.canvas.getContext("2d"),this.setSmooth(!1),this.spriteBuffer={},this.pipeline=[],this.onEnterFrame()};n.prototype.setSmooth=function(e){return this.context.imageSmoothingEnabled=e,this.context.mozImageSmoothingEnabled=e,this.context.oImageSmoothingEnabled=e,this.context.webkitImageSmoothingEnabled=e,this},n.prototype.setCanvas=function(e){return this.canvas=e,this},n.prototype.addToBuffer=function(e,t){t=typeof t=="undefined"?this.spriteBuffer.length-1:t;var n=this.spriteBuffer[t];return typeof this.spriteBuffer[t]=="undefined"&&(this.spriteBuffer[t]=[]),this.spriteBuffer[t].push(e),this},n.prototype.addChild=function(e){this.pipeline.push(e)},n.prototype.removeFromBuffer=function(){},n.prototype.clear=function(){return this.context.clearRect(0,0,this.context.canvas.width,this.context.canvas.height),this},n.prototype.render=function(){var e=this.pipeline.length,t=0;this.clear();for(;t<e;++t)this.pipeline[t].renderTo(this.context)},n.prototype.onEnterFrame=function(){window.onEnterFrame(t.onEnterFrame),t.render()},e.Render=n}(Joy),Joy.Time={deltaTime:1},function(e){var t=function(){this.position=null,this.localPosition=null};e.Transform=t}(Joy);