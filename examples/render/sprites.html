<html>
    <head>
        <meta http-equiv="content-type" content="text/html; charset=utf-8" />
        <title>Joy Example</title>

        <script type="text/javascript" src="../../../dist/joy.js"></script>
        <script type="text/javascript">
            function setup() {
              var c = document.getElementById("joy");

              function checkBoundaries(s) {
                  s.x += s.speed * s.hDir;
                  s.y += s.speed * s.vDir;

                  if ((s.x + s.asset.width) > c.width) {
                      s.hDir = -1;
                  }
                  else if (s.x < 0) {
                      s.hDir = 1;
                  }

                  if ((s.y + s.asset.height) > c.height) {
                      s.vDir = -1;
                  }
                  else if (s.y < 0) {
                      s.vDir = 1;
                  }
              }

              var r = new Joy.Render({
                canvas: c
              });
              r.context.globalCompositeOperation = "darker";

              var spriteUrl = "../shared-assets/mario.png";

              var spriteSmall = new Joy.Sprite({
                x: 10, y: 10, url: spriteUrl
              });
              spriteSmall.hDir = 1;
              spriteSmall.vDir = 1;
              spriteSmall.speed = 2;

              var spriteNormal = new Joy.Sprite({
                x: 10, y: 10, url: spriteUrl
              });
              spriteNormal.hDir = -1;
              spriteNormal.vDir = 1;
              spriteNormal.speed = 1;

              var spriteBig = new Joy.Sprite({
                x: 10, y: 10, url: spriteUrl
              });
              spriteBig.hDir = 1;
              spriteBig.vDir = -1;
              spriteBig.speed = 0.5;

              spriteSmall.asset.width /= 2;
              spriteSmall.asset.height /= 2;
              spriteBig.asset.width *= 2;
              spriteBig.asset.height *= 2;

              r.addChild(spriteBig);
              r.addChild(spriteNormal);
              r.addChild(spriteSmall);

              setInterval(function () {
                  checkBoundaries(spriteSmall);
                  checkBoundaries(spriteNormal);
                  checkBoundaries(spriteBig);
              }, 1000 / 60);
            }
        </script>
    </head>

    <body onload="setup();" style="margin: 0; padding: 0;">
        <canvas id="joy" width=480 height=320 style="border: 1px solid #000000;"></canvas>
    </body>

</html>
