<html>

    <head>
        <meta http-equiv="content-type" content="text/html; charset=utf-8" />
        <title>Joy Example</title>

        <script type="text/javascript" src="../../../dist/joy.js"></script>
        <script type="text/javascript">
            var readyStateInterval = setInterval(function () {
                if (document.readyState === 'complete') {
                    clearInterval(readyStateInterval);
                }

                var r = new Joy.Render({canvas: document.getElementById("joy")});

                var sprite = new Joy.Sprite({
                  x: 10, y: 10,
                  url: "../../shared-assets/mario.png"
                });

                r.addToBuffer(sprite);

                var hDir = 1;
                var vDir = 1;

                setInterval(function () {
                    sprite.x += 1 * hDir;
                    sprite.y += 1 * vDir;

                    if ((sprite.x + sprite.asset.width) > 320) {
                        hDir = -1;
                    }
                    else if (sprite.x < 0) {
                        hDir = 1;
                    }

                    if ((sprite.y + sprite.asset.height) > 240) {
                        vDir = -1;
                    }
                    else if (sprite.y < 0) {
                        vDir = 1;
                    }
                }, 1000 / 60);
            }, 10);
        </script>
    </head>

    <body>
        <canvas id="joy" width='320' height='240' style="border: 1px solid #666;"></canvas>
    </body>

</html>
